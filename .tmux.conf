set -g prefix C-b
bind C-b send-prefix

# Reload config
bind r source-file ~/.tmux.conf \; display-message "Reloaded!"

# Splits
bind | split-window -h
bind - split-window -v

# Navigation (no prefix)
bind -n C-h select-pane -L
bind -n C-j select-pane -D
bind -n C-k select-pane -U
bind -n C-l select-pane -R

# Resize (repeatable)
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Mouse & scrollback
set -g mouse on

# Clipboard integration
set-option -g set-clipboard on
bind-key -T copy-mode-vi y send -X copy-pipe-and-cancel "xclip -selection clipboard -in"

# Home / End
set -g xterm-keys on
bind -n Home send-keys C-a
bind -n End send-keys C-e

# Statusline on
set -g status on

set -g default-shell /usr/bin/zsh
set -g default-command /usr/bin/zsh

# ============================
#   ARCH CRYO THEME – TMUX
# ============================

# Palette notes:
# bg:      #0B1114  (obsidian)
# fg:      #C8D0D3  (soft grey)
# cyan:    #4DD6FF
# cyan2:   #5CEFFF
# violet:  #7F5CFF

# Global status style
set -g status-style "bg=#0B1114,fg=#C8D0D3"
set -g status-interval 5

# Left: session name with cyan icon
set -g status-left "#[fg=#4DD6FF,bold] ❐ #[fg=#C8D0D3]#S "

# Right: user@host script, tinted cyan
set -g status-right "#[fg=#7F5CFF]#($HOME/personal/dotfiles/tmux/scripts/userhost.sh #{pane_pid}) "

# Window styling
setw -g window-status-format " #[fg=#4DD6FF]#I #[fg=#C8D0D3]#W "
setw -g window-status-current-format " #[fg=#0B1114,bg=#4DD6FF,bold] #I #W #[default]"
setw -g window-status-separator "  "

# Pane borders – subtle inactive, bright active
set -g pane-border-style "fg=#23313A"
set -g pane-active-border-style "fg=#5CEFFF"

# Messages
set -g message-style "bg=#4DD6FF,fg=#0B1114"
set -g message-command-style "bg=#7F5CFF,fg=#0B1114"

# ============================

setw -g automatic-rename on
set -g allow-rename off

# Plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'jimeh/tmux-themepack'

# Fuzzy finding
set-environment -g PATH "/home/lamuh/bin:/home/lamuh/.fzf/bin:$PATH"
bind S run-shell -b "$HOME/personal/dotfiles/tmux/scripts/tmux-switch-session.sh"
bind g run-shell -b "$HOME/personal/dotfiles/tmux/scripts/tmux-fzf-all.sh"
bind o run-shell -b "$HOME/personal/dotfiles/tmux/scripts/tmux-git-commit.sh"
bind h run-shell -b "$HOME/personal/dotfiles/tmux/scripts/tmux-git-branch.sh"
bind p run-shell -b "$HOME/personal/dotfiles/tmux/scripts/tmux-open-project.sh"
bind e run-shell -b "$HOME/personal/dotfiles/tmux/scripts/tmux-recent-files.sh"
bind P run-shell -b "$HOME/personal/dotfiles/tmux/scripts/tmux-open-project-code.sh"
bind E run-shell -b "$HOME/personal/dotfiles/tmux/scripts/tmux-recent-files-code.sh"

# Preview inactive sessions
bind w choose-tree

# Ctrl+ movements
bind-key -n C-right send-keys M-f
bind-key -n C-left send-keys M-b

# Initialize TPM
# run '~/.tmux/plugins/tpm/tpm'
